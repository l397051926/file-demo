SET NAMES utf8mb4;
SET FOREIGN_KEY_CHECKS = 0;

CREATE TABLE IF NOT EXISTS `fs_export_tasks` (
  `TASK_ID` int(11) NOT NULL AUTO_INCREMENT,
  `USER_ID` varchar(255) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL,
  `PROJECT_ID` varchar(255) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL,
  `PROJECT_NAME` varchar(255) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL,
  `EXECUTOR` varchar(255) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL,
  `STATE` int(11) NOT NULL DEFAULT 1,
  `LAST_MODIFY_TIME` timestamp(0) NOT NULL DEFAULT CURRENT_TIMESTAMP,
  `CREATE_TIME` timestamp(0) NOT NULL DEFAULT CURRENT_TIMESTAMP,
  `START_TIME` timestamp(0) NULL DEFAULT NULL,
  `FINISH_TIME` timestamp(0) NULL DEFAULT NULL,
  `ESTIMATED_FINISH_TIME` timestamp(0) NULL DEFAULT NULL,
  `PROGRESS` float NULL DEFAULT NULL,
  `FILE_NAME` varchar(255) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL,
  `FILE_SIZE` int(11) NULL DEFAULT NULL,
  `DOWNLOADED` bit(1) NULL DEFAULT NULL,
  `EXPIRE_NOTIFIED` bit(1) NULL DEFAULT NULL,
  `PATIENTS` longtext CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL,
  `PATIENT_COUNT` int(11) NOT NULL,
  `VISIT_TYPES` varchar(255) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '0',
  `HEADER_TYPE` int(11) NOT NULL DEFAULT 1,
  `MODELS` varchar(255) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL,
  `SELECTED_FIELDS` longtext CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL,
  `CUSTOM_VARS` longtext CHARACTER SET utf8 COLLATE utf8_general_ci NULL,
  PRIMARY KEY (`TASK_ID`) USING BTREE,
  INDEX `USER_ID`(`USER_ID`) USING BTREE,
  INDEX `PROJECT_ID`(`PROJECT_ID`) USING BTREE,
  FULLTEXT INDEX `PROJECT_NAME`(`PROJECT_NAME`),
  INDEX `EXECUTOR`(`EXECUTOR`) USING BTREE,
  INDEX `STATE`(`STATE`) USING BTREE,
  INDEX `LAST_MODIFY_TIME`(`LAST_MODIFY_TIME`) USING BTREE,
  INDEX `CREATE_TIME`(`CREATE_TIME`) USING BTREE,
  INDEX `START_TIME`(`START_TIME`) USING BTREE,
  INDEX `FINISH_TIME`(`FINISH_TIME`) USING BTREE,
  INDEX `ESTIMATED_FINISH_TIME`(`ESTIMATED_FINISH_TIME`) USING BTREE,
  INDEX `PROGRESS`(`PROGRESS`) USING BTREE,
  FULLTEXT INDEX `FILE_NAME`(`FILE_NAME`),
  INDEX `FILE_SIZE`(`FILE_SIZE`) USING BTREE,
  INDEX `DOWNLOADED`(`DOWNLOADED`) USING BTREE,
  INDEX `HEADER_TYPE`(`HEADER_TYPE`) USING BTREE
) ENGINE = InnoDB AUTO_INCREMENT = 1 CHARACTER SET = utf8 COLLATE = utf8_general_ci ROW_FORMAT = Dynamic;

SET FOREIGN_KEY_CHECKS = 1;